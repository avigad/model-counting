\documentclass{llncs}
\usepackage{latexsym}
\usepackage{times}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{cite}
\usepackage{booktabs}
\usepackage{adjustbox}
\usepackage{marvosym}
%% Colored hyperlink 
\newcommand{\hcref}[1]{\texttt{\small\url{#1}}}


\bibliographystyle{splncs04}
%\bibliographystyle{abbrv}

\definecolor{redorange}{rgb}{0.878431, 0.235294, 0.192157}
\definecolor{lightblue}{rgb}{0.552941, 0.72549, 0.792157}
\definecolor{clearyellow}{rgb}{0.964706, 0.745098, 0}
\definecolor{clearorange}{rgb}{0.917647, 0.462745, 0}
\definecolor{mildgray}{rgb}{0.54902, 0.509804, 0.47451}
\definecolor{softblue}{rgb}{0.643137, 0.858824, 0.909804}
\definecolor{bluegray}{rgb}{0.141176, 0.313725, 0.603922}
\definecolor{lightgreen}{rgb}{0.709804, 0.741176, 0}
\definecolor{darkgreen}{rgb}{0.152941, 0.776471, 0.172549}
\definecolor{redpurple}{rgb}{0.835294, 0, 0.196078}
\definecolor{midblue}{rgb}{0, 0.592157, 0.662745}
\definecolor{clearpurple}{rgb}{0.67451, 0.0784314, 0.352941}
\definecolor{browngreen}{rgb}{0.333333, 0.313725, 0.145098}
\definecolor{darkestpurple}{rgb}{0.396078, 0.113725, 0.196078}
\definecolor{greypurple}{rgb}{0.294118, 0.219608, 0.298039}
\definecolor{darkturquoise}{rgb}{0, 0.239216, 0.298039}
\definecolor{darkbrown}{rgb}{0.305882, 0.211765, 0.160784}
\definecolor{midgreen}{rgb}{0.560784, 0.6, 0.243137}
\definecolor{darkred}{rgb}{0.576471, 0.152941, 0.172549}
\definecolor{darkpurple}{rgb}{0.313725, 0.027451, 0.470588}
\definecolor{darkestblue}{rgb}{0, 0.156863, 0.333333}
\definecolor{lightpurple}{rgb}{0.776471, 0.690196, 0.737255}
\definecolor{softgreen}{rgb}{0.733333, 0.772549, 0.572549}
\definecolor{offwhite}{rgb}{0.839216, 0.823529, 0.768627}



\title{Validated Model Counting Data \\ Version of \today}

\author{Randal E. Bryant}

\authorrunning{R. E. Bryant}

\titlerunning{Validated Model Counting}


\institute{
Computer Science Department \\
Carnegie Mellon University, Pittsburgh, PA, United States
}

\begin{document}

\maketitle


\section*{Benchmark machine}
\begin{itemize}
\item 2021 MacBook Pro 18,4
  \begin{itemize}
  \item 3.2 Ghz Apple M1 processor
  \item 64 GB Ram
  \end{itemize}
\item  Samsung T7 solid-state disk
  \begin{itemize}
  \item 2TB capacity
  \item Up to 1 GB/s R/W
  \item Critical for performance.  Wrote and read files of over 162 GB.
  \end{itemize}
\end{itemize}

\section*{Methodology}
\begin{enumerate}
   \item Retrieved 200 public model counting benchmarks from 2022 Model Counting Competition website
     \begin{center}
       \hcref{https://mccompetition.org/2022/mc\_description.html}
     \end{center}
     \begin{itemize}
     \item 100 public instances from Track 1 (unweighted model counting)
     \item 100 public instances from Track 2 (weighted model counting)
     \end{itemize}
   \item Removed duplicates
     \begin{itemize}
    \item  20 instances were duplicated in the two tracks
     \item Reduces set of benchmarks to 180
     \end{itemize}
   \item Ran D4 on 180 instances with time limit of 1000 seconds
     \begin{itemize}
     \item Completed for 114 instances
     \end{itemize}
   \item Generated POG representations from dDNNF graphs
     \begin{itemize}
     \item Simplifications via constant propagation
       \begin{itemize}
       \item Number of POG nodes around $0{.}90\times$ number of dDNNF nodes
       \end{itemize}
     \item Used heuristics to identify root node, and then put in topological ordering
     \item Measure complexity by number of defining clauses $D$
       \begin{itemize}
       \item Product or sum node with degree $k$ requires $k+1$ clauses
       \item $D$ also equals sum of number of edges and number of nodes
       \item For 114 instances, Min = 304, Median = 674,179, Mean = 27,918,017, Max = 404,276,843
       \end{itemize}
     \end{itemize}
   \item Ran program {\sc d2p} to generate CRAT file for maximum of 10,000 seconds
     \begin{itemize}
     \item Completed for 105 instances
     \item Timed out for eight instances
     \item Ran out of memory for one instance
     \end{itemize}
   \item For completed CRAT files, ran {\sc crat-check} CRAT checker
     \begin{itemize}
     \item Tests all conditions for correct CRAT
     \item Most time spent performing RUP checks for clause addition and deletion
     \item Completed successfully for all 105 instances
     \item Time generally faster than {\sc d2p}.
     \end{itemize}
\end{enumerate}

\begin{figure}
\centering{%
\begin{tikzpicture}[scale = 1.00]
  \begin{axis}[mark options={scale=0.55},grid=both, grid style={black!10}, ymode=log, ymin=100, ymax=1000000000, 
                              x post scale=2.0, y post scale=2.0,
                              xmode=log, xmin=001,xmax=1000,
                              xtick={0.01, 0.1,1.0,10,100,1000}, xticklabels={0.01, 0.1, 1.0, 10, 100, {1,000}},
                              ytick={100,1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000}, yticklabels={$10^2$,$10^3$,$10^4$,$10^5$,$10^6$,$10^7$,$10^8$,$10^9$},
                              xlabel={D4 runtime (seconds)}, ylabel={Defining Clauses},
%                              title={D4 Defining Clause Generation}
            ]
    \input{data-formatted/time+defining-success}
    \input{data-formatted/time+defining-failure}
          \end{axis}
\end{tikzpicture}
} % centering
\caption{Number of defining clauses in generated POG as function of D4 runtime}
\label{fig:generate:d4:log}
\end{figure}

\section*{Generated CRAT Files}

\begin{itemize}
\item Proof Clauses: Min 554, Average 44,335,021, Max 770,382,773
\item Ratio to number of defining clauses: Min 1.54, Harmonic Mean 3.05, Max 6073
\end{itemize}


\begin{figure}
\centering{%
\begin{tikzpicture}[scale = 1.00]
  \begin{axis}[mark options={scale=0.55},grid=both, grid style={black!10}, ymode=log, ymin=100, ymax=1000000000, 
                              x post scale=2.0, y post scale=2.0,
                              xmode=log,xmin=100,xmax=1000000000, 
                              xtick={100,1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000}, xticklabels={$10^2$,$10^3$,$10^4$,$10^5$,$10^6$,$10^7$,$10^8$,$10^9$},
                              ytick={100,1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000}, yticklabels={$10^2$,$10^3$,$10^4$,$10^5$,$10^6$,$10^7$,$10^8$,$10^9$},
                              xlabel={Defining Clauses}, ylabel={Proof Clauses},
%                              title={D4 Defining Clause Generation}
            ]
    \addplot[mark=none, color=darkestblue] coordinates{(100,100) (1e9,1e9)};
    \addplot[mark=none, color=midblue] coordinates{(100,1000) (1e8,1e9)};
    \addplot[mark=none, color=lightblue] coordinates{(100,10000) (1e7,1e9)};
    \input{data-formatted/defining+total}
    \node[left] at (axis cs: 900,1200) {$1{}.0\times$};
    \node[left] at (axis cs: 900,12000) {$10\times$};
    \node[left] at (axis cs: 900,120000) {$100\times$};


          \end{axis}
\end{tikzpicture}
} % centering
\caption{Total number of clauses in CRAT file as function of number of defining clauses}
\label{fig:defining:total}

\end{figure}

\section*{Time to Generate and Validate CRAT}

\begin{itemize}
\item Min 0.01, Average 1190.0, Max 13,144.7
\item Ratio to time for D4: Min 0.50, Harmonic Mean 6.16, Max 457.7
\end{itemize}



\begin{figure}
\centering{%
\begin{tikzpicture}[scale = 1.00]
  \begin{axis}[mark options={scale=0.55},grid=both, grid style={black!10}, ymode=log, ymin=0.01, ymax=20000,
                              x post scale=2.0, y post scale=2.2,
                              xmode=log,xmin=0.01,xmax=1000,
                              xtick={0.01, 0.1,1.0,10,100,1000}, xticklabels={0.01, 0.1, 1.0, 10, 100, {1,000}},
                              ytick={0.01, 0.1,1.0,10,100,1000,10000,20000}, yticklabels={0.01, 0.1, 1.0, 10, 100, {1,000},{10,000},{20,000}},
                              xlabel={D4 runtime (seconds)}, ylabel={CRAT generation and checking runtime (seconds)},
%                              title={D4 Defining Clause Generation}
            ]
    \addplot[mark=none, color=darkestblue] coordinates{(0.01,0.01) (1000.0,1000.0)};
    \addplot[mark=none, color=midblue] coordinates{(0.01,0.1) (1000,10000)};
    \addplot[mark=none, color=lightblue] coordinates{(0.01,1.0) (200,20000)};
    \input{data-formatted/time-d4-verify}
    \node[left] at (axis cs: 0.09,0.12) {$1{}.0\times$};
    \node[left] at (axis cs: 0.09,1.2) {$10\times$};
    \node[left] at (axis cs: 0.09,12.0) {$100\times$};

          \end{axis}
\end{tikzpicture}
} % centering
\caption{Combined runtime for CRAT proof generation and checking  as function of D4 runtime}
\label{fig:d4:crat}

\end{figure}


\begin{figure}
\centering{%
\begin{tikzpicture}[scale = 1.00]
  \begin{axis}[mark options={scale=0.55},grid=both, grid style={black!10}, ymode=log, ymin=100, ymax=1000000000, 
                              x post scale=2.0, y post scale=2.0,
                              xmin=0,xmax=1000,
                              xtick = {0,100,200,300,400,500,600,700,800,900,1000},
                              ytick={100,1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000}, yticklabels={$10^2$,$10^3$,$10^4$,$10^5$,$10^6$,$10^7$,$10^8$,$10^9$},
                              xlabel={D4 runtime (seconds)}, ylabel={Defining Clauses},
%                              title={D4 Defining Clause Generation}
            ]
    \input{data-formatted/time+defining-success}
    \input{data-formatted/time+defining-failure}
          \end{axis}
\end{tikzpicture}
} % centering
\caption{Number of defining clauses in generated POG as function of D4 runtime (X linear scale)}
\label{fig:generate:d4}
\end{figure}


\bibliography{references}


\end{document}


